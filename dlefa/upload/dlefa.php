<?php
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins (id, name, description, icon, version, dleversion, versioncompare, active, mysqlinstall, mysqlupgrade, mysqlenable, mysqldisable, mysqldelete, filedelete, filelist, upgradeurl) VALUES (1, 'Add Persian Language and CSS', 'اضافه کردن فایل های css نسخه فارسی و راست چین سازی', '', '1.0', '13.0', '>=', 1, '', '', '', '', '', 1, '', 'https://dlefa.ir/updates/dlefa_css.xml')";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins (id, name, description, icon, version, dleversion, versioncompare, active, mysqlinstall, mysqlupgrade, mysqlenable, mysqldisable, mysqldelete, filedelete, filelist, upgradeurl) VALUES (2, 'Persian DataLife Engine', 'نسخه فارسی سیستم مدیریت محتوای دیتالایف انجین', '', '1.3', '13.1', '>=', 1, '', '', '', '', '', 1, '', 'https://dlefa.ir/updates/dlefa.xml')";


$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (1, 1, 'engine/inc/include/functions.inc.php', 'replace', '		\$default_array = array (\\n			\'engine/skins/javascripts/application.js\',\\n		);', '		if (isset( \$_COOKIE[\'selected_language\'] )) {\\n			\\n			if (\$_COOKIE[\'selected_language\'] == \'Farsi\'){\\n				\$default_array = array (\\n					\'engine/skins/javascripts/application_fa.js\',\\n				);\\n			}else{	\\n				\$default_array = array (\\n					\'engine/skins/javascripts/application.js\',\\n				);\\n			}\\n			\\n			\\n		}else{\\n			\\n			if (\$config[\'langs\'] == \'Farsi\'){\\n				\$default_array = array (\\n					\'engine/skins/javascripts/application_fa.js\',\\n				);\\n			}else{	\\n				\$default_array = array (\\n					\'engine/skins/javascripts/application.js\',\\n				);\\n			}\\n			\\n		}', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (2, 1, 'engine/inc/include/functions.inc.php', 'replace', 'function build_css(\$css) {\\n	global \$config;\\n\\n	\$default_array = array (\\n		\'engine/skins/fonts/fontawesome/styles.min.css\',\\n		\'engine/skins/stylesheets/application.css\'\\n	);', 'function build_css(\$css) {\\n	global \$config, \$db;\\n\\n	if (isset( \$_COOKIE[\'selected_language\'] )) {\\n		\\n		if (\$_COOKIE[\'selected_language\'] == \'Farsi\'){\\n			\$default_array = array (\\n				\'engine/skins/fonts/fontawesome/styles.min.css\',\\n				\'engine/skins/stylesheets/application_fa.css\'\\n			);\\n          	\$row = \$db->super_query( \"SELECT id FROM \" . PREFIX . \"_plugins WHERE name=\'Persian DataLife Engine\'\" );\\n			\$db->query( \"UPDATE \" . PREFIX . \"_plugins SET active=\'1\' WHERE id=\'{\$row[\'id\']}\'\" );\\n          	\$db->query( \"UPDATE \" . PREFIX . \"_plugins_files SET active=\'1\' WHERE plugin_id=\'{\$row[\'id\']}\'\" );          	\\n        }else{	\\n			\$default_array = array (\\n				\'engine/skins/fonts/fontawesome/styles.min.css\',\\n				\'engine/skins/stylesheets/application.css\'\\n			);\\n          	\$row = \$db->super_query( \"SELECT id FROM \" . PREFIX . \"_plugins WHERE name=\'Persian DataLife Engine\'\" );\\n			\$db->query( \"UPDATE \" . PREFIX . \"_plugins SET active=\'0\' WHERE id=\'{\$row[\'id\']}\'\" );\\n          	\$db->query( \"UPDATE \" . PREFIX . \"_plugins_files SET active=\'0\' WHERE plugin_id=\'{\$row[\'id\']}\'\" );          	\\n        }		\\n	}else{	\\n		if (\$config[\'langs\'] == \'Farsi\'){\\n			\$default_array = array (\\n				\'engine/skins/fonts/fontawesome/styles.min.css\',\\n				\'engine/skins/stylesheets/application_fa.css\'\\n			);\\n          	\$row = \$db->super_query( \"SELECT id FROM \" . PREFIX . \"_plugins WHERE name=\'Persian DataLife Engine\'\" );\\n			\$db->query( \"UPDATE \" . PREFIX . \"_plugins SET active=\'1\' WHERE id=\'{\$row[\'id\']}\'\" );\\n          	\$db->query( \"UPDATE \" . PREFIX . \"_plugins_files SET active=\'1\' WHERE plugin_id=\'{\$row[\'id\']}\'\" );          	\\n		}else{	\\n			\$default_array = array (\\n				\'engine/skins/fonts/fontawesome/styles.min.css\',\\n				\'engine/skins/stylesheets/application.css\'\\n			);\\n          	\$row = \$db->super_query( \"SELECT id FROM \" . PREFIX . \"_plugins WHERE name=\'Persian DataLife Engine\'\" );\\n			\$db->query( \"UPDATE \" . PREFIX . \"_plugins SET active=\'0\' WHERE id=\'{\$row[\'id\']}\'\" );\\n          	\$db->query( \"UPDATE \" . PREFIX . \"_plugins_files SET active=\'0\' WHERE plugin_id=\'{\$row[\'id\']}\'\" );          	\\n        }		\\n	}', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (3, 1, 'engine/classes/antivirus.class.php', 'after', 'var \$good_files       = array(', '\"./engine/classes/jdate.class.php\",\\n\"./engine/ajax/calendar_fa.php\",\\n\"./engine/ajax/updates_fa.php\",\\n\"./engine/modules/calendar_fa.php\",', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (4, 2, 'engine/download.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', \$row_news[\'date\'] ) . \$row_news[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', \$row_news[\'date\'] ) . \$row_news[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (5, 2, 'engine/engine.php', 'replace', '1970', '1300', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (6, 2, 'engine/engine.php', 'replace', '2100', '1500', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (7, 2, 'engine/engine.php', 'replace', '\$year= date( \'Y\', \$_TIME );', '\$year= jdate( \'Y\', \$_TIME );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (8, 2, 'engine/engine.php', 'before', '\$url_page = \$config[\'http_home_url\'] . \$year;', '\$starty = date(\"Y-m-d\", jmaketime(0, 0, 0, 1, 1, \$year));\\n\$endy = date(\"Y-m-d\", jmaketime(0, 0, 0, 1, 1, (\$year+1)));', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (9, 2, 'engine/engine.php', 'replace', '\$sql_select = \"SELECT p.id, p.autor, p.date, p.short_story, CHAR_LENGTH(p.full_story) as full_story, p.xfields, p.title, p.category, p.alt_name, p.comm_num, p.allow_comm, p.fixed, p.tags, e.news_read, e.allow_rate, e.rating, e.vote_num, e.votes, e.view_edit, e.editdate, e.editor, e.reason FROM \" . PREFIX . \"_post p LEFT JOIN \" . PREFIX . \"_post_extras e ON (p.id=e.news_id) WHERE {\$stop_list}date >= \'{\$year}-01-01\'AND date < \'{\$year}-01-01\' + INTERVAL 1 YEAR AND approve=1\" . \$where_date . \" ORDER BY \" . \$news_sort_by . \" \" . \$news_direction_by . \" LIMIT \" . \$cstart . \",\" . \$config[\'news_number\'];\\n\$sql_count = \"SELECT COUNT(*) as count FROM \" . PREFIX . \"_post where {\$stop_list}date >= \'{\$year}-01-01\'AND date < \'{\$year}-01-01\' + INTERVAL 1 YEAR AND approve=1\" . \$where_date;', '\$sql_select = \"SELECT p.id, p.autor, p.date, p.short_story, CHAR_LENGTH(p.full_story) as full_story, p.xfields, p.title, p.category, p.alt_name, p.comm_num, p.allow_comm, p.fixed, p.tags, e.news_read, e.allow_rate, e.rating, e.vote_num, e.votes, e.view_edit, e.editdate, e.editor, e.reason FROM \" . PREFIX . \"_post p LEFT JOIN \" . PREFIX . \"_post_extras e ON (p.id=e.news_id) WHERE {\$stop_list}date >= \'{\$starty}-01-01\'AND date < \'{\$starty}-01-01\' + INTERVAL 1 YEAR AND approve=1\" . \$where_date . \" ORDER BY \" . \$news_sort_by . \" \" . \$news_direction_by . \" LIMIT \" . \$cstart . \",\" . \$config[\'news_number\'];\\n\$sql_count = \"SELECT COUNT(*) as count FROM \" . PREFIX . \"_post where {\$stop_list}date >= \'\$starty\' AND date < \'\$endy\' AND approve=1\" . \$where_date;', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (10, 2, 'engine/engine.php', 'replace', '\$month= date( \'m\', \$_TIME );', '\$month= jdate( \'m\', \$_TIME );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (11, 2, 'engine/engine.php', 'before', '\$url_page = \$config[\'http_home_url\'] . \$year . \"/\" . \$month;', '\$startm = date(\"Y-m-d\", jmaketime(0, 0, 0, \$month, 1, \$year));\\n\$endm = date(\"Y-m-d\", jmaketime(0, 0, 0, (\$month+1), 1, \$year));', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (12, 2, 'engine/engine.php', 'replace', '\$sql_select = \"SELECT p.id, p.autor, p.date, p.short_story, CHAR_LENGTH(p.full_story) as full_story, p.xfields, p.title, p.category, p.alt_name, p.comm_num, p.allow_comm, p.fixed, p.tags, e.news_read, e.allow_rate, e.rating, e.vote_num, e.votes, e.view_edit, e.editdate, e.editor, e.reason FROM \" . PREFIX . \"_post p LEFT JOIN \" . PREFIX . \"_post_extras e ON (p.id=e.news_id) WHERE {\$stop_list}date >= \'{\$year}-{\$month}-01\'AND date < \'{\$year}-{\$month}-01\' + INTERVAL 1 MONTH AND approve=1\" . \$where_date . \" ORDER BY \" . \$news_sort_by . \" \" . \$news_direction_by . \" LIMIT \" . \$cstart . \",\" . \$config[\'news_number\'];\\n\$sql_count = \"SELECT COUNT(*) as count FROM \" . PREFIX . \"_post where {\$stop_list}date >= \'{\$year}-{\$month}-01\'AND date < \'{\$year}-{\$month}-01\' + INTERVAL 1 MONTH AND approve=1\" . \$where_date;', '\$sql_select = \"SELECT p.id, p.autor, p.date, p.short_story, CHAR_LENGTH(p.full_story) as full_story, p.xfields, p.title, p.category, p.alt_name, p.comm_num, p.allow_comm, p.fixed, p.tags, e.news_read, e.allow_rate, e.rating, e.vote_num, e.votes, e.view_edit, e.editdate, e.editor, e.reason FROM \" . PREFIX . \"_post p LEFT JOIN \" . PREFIX . \"_post_extras e ON (p.id=e.news_id) WHERE {\$stop_list}date >= \'{\$startm}-01\'AND date < \'{\$startm}-01\' + INTERVAL 1 MONTH AND approve=1\" . \$where_date . \" ORDER BY \" . \$news_sort_by . \" \" . \$news_direction_by . \" LIMIT \" . \$cstart . \",\" . \$config[\'news_number\'];\\n\$sql_count = \"SELECT COUNT(*) as count FROM \" . PREFIX . \"_post where {\$stop_list}date >= \'\$startm\' AND date < \'\$endm\' AND approve=1\" . \$where_date;', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (13, 2, 'engine/engine.php', 'replace', '\$day= date( \'d\', \$_TIME );', '\$day= jdate( \'d\', \$_TIME );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (14, 2, 'engine/engine.php', 'before', '\$url_page = \$config[\'http_home_url\'] . \$year . \"/\" . \$month . \"/\" . \$day;', '\$startd = date(\"Y-m-d\", jmaketime(0, 0, 0, \$month, \$day, \$year));\\n\$endd = date(\"Y-m-d\", jmaketime(24, 0, 0, \$month, \$day, \$year));', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (15, 2, 'engine/engine.php', 'replace', '\$sql_select = \"SELECT p.id, p.autor, p.date, p.short_story, CHAR_LENGTH(p.full_story) as full_story, p.xfields, p.title, p.category, p.alt_name, p.comm_num, p.allow_comm, p.fixed, p.tags, e.news_read, e.allow_rate, e.rating, e.vote_num, e.votes, e.view_edit, e.editdate, e.editor, e.reason FROM \" . PREFIX . \"_post p LEFT JOIN \" . PREFIX . \"_post_extras e ON (p.id=e.news_id) WHERE {\$stop_list}date >= \'{\$year}-{\$month}-{\$day}\' AND date < \'{\$year}-{\$month}-{\$day}\' + INTERVAL 24 HOUR AND approve=1\" . \$where_date . \" ORDER BY \" . \$news_sort_by . \" \" . \$news_direction_by . \" LIMIT \" . \$cstart . \",\" . \$config[\'news_number\'];\\n\$sql_count = \"SELECT COUNT(*) as count FROM \" . PREFIX . \"_post WHERE {\$stop_list}date >= \'{\$year}-{\$month}-{\$day}\' AND date < \'{\$year}-{\$month}-{\$day}\' + INTERVAL 24 HOUR AND approve=1\" . \$where_date;', '\$sql_select = \"SELECT p.id, p.autor, p.date, p.short_story, CHAR_LENGTH(p.full_story) as full_story, p.xfields, p.title, p.category, p.alt_name, p.comm_num, p.allow_comm, p.fixed, p.tags, e.news_read, e.allow_rate, e.rating, e.vote_num, e.votes, e.view_edit, e.editdate, e.editor, e.reason FROM \" . PREFIX . \"_post p LEFT JOIN \" . PREFIX . \"_post_extras e ON (p.id=e.news_id) WHERE {\$stop_list}date >= \'{\$startd}\' AND date < \'{\$startd}\' + INTERVAL 24 HOUR AND approve=1\" . \$where_date . \" ORDER BY \" . \$news_sort_by . \" \" . \$news_direction_by . \" LIMIT \" . \$cstart . \",\" . \$config[\'news_number\'];\\n\$sql_count = \"SELECT COUNT(*) as count FROM \" . PREFIX . \"_post WHERE {\$stop_list}date >= \'{\$startd}\' AND date < \'{\$startd}\' + INTERVAL 24 HOUR AND approve=1\" . \$where_date;', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (16, 2, 'engine/engine.php', 'replace', 'if (! \$newsid) \$sql_news = \"SELECT * FROM \" . PREFIX . \"_post LEFT JOIN \" . PREFIX . \"_post_extras ON (\" . PREFIX . \"_post.id=\" . PREFIX . \"_post_extras.news_id) WHERE alt_name =\'\$news_name\' AND date >= \'{\$year}-{\$month}-{\$day}\' AND date < \'{\$year}-{\$month}-{\$day}\' + INTERVAL 24 HOUR LIMIT 1\";\\nelse \$sql_news = \"SELECT * FROM \" . PREFIX . \"_post LEFT JOIN \" . PREFIX . \"_post_extras ON (\" . PREFIX . \"_post.id=\" . PREFIX . \"_post_extras.news_id) WHERE  id = \'{\$newsid}\'\";', 'if (! \$newsid) {\\n	\$startd = date(\"Y-m-d\", jmaketime(0, 0, 0, \$month, \$day, \$year));\\n	\$endd = date(\"Y-m-d\", jmaketime(24, 0, 0, \$month, \$day, \$year));\\n	\$sql_news = \"SELECT * FROM \" . PREFIX . \"_post LEFT JOIN \" . PREFIX . \"_post_extras ON (\" . PREFIX . \"_post.id=\" . PREFIX . \"_post_extras.news_id) WHERE alt_name =\'\$news_name\' AND date >= \'\$startd\' AND date < \'\$endd\' LIMIT 1\";\\n} else {\\n	\$sql_news = \"SELECT * FROM \" . PREFIX . \"_post LEFT JOIN \" . PREFIX . \"_post_extras ON (\" . PREFIX . \"_post.id=\" . PREFIX . \"_post_extras.news_id) WHERE  id = \'{\$newsid}\'\";\\n}', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (17, 2, 'engine/engine.php', 'replace', 'if (\$year != \'\' and \$month != \'\' and \$day == \'\') \$nam_e = \$lang[\'title_date\'] . \' \' . \$r[\$month - 1] . \' \' . \$year . \' \' . \$lang[\'title_year1\'];\\nif (\$year != \'\' and \$month != \'\' and \$day != \'\' and \$subaction == \'\') \$nam_e = \$lang[\'title_date\'] . \' \' . \$day . \'.\' . \$month . \'.\' . \$year;', 'if (\$year != \'\' and \$month == \'\' and \$day == \'\') \$nam_e = \$lang[\'title_date\'] . \' \' . \$lang[\'title_year\'] . \'  \' . \$year;\\nif (\$year != \'\' and \$month != \'\' and \$day == \'\') \$nam_e = \$lang[\'title_date\'] . \' ماه \' . \$month  . \' \' . \$lang[\'title_year1\'] . \' \' . \$year;', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (18, 2, 'engine/engine.php', 'replace', '<meta name=\"generator\" content=\"DataLife Engine (http://dle-news.ru)\">', '<meta name=\"generator\" content=\"Persian DataLife Engine (http://dlefa.ir)\">', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (19, 2, 'engine/init.php', 'replace', '1970', '1300', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (20, 2, 'engine/init.php', 'replace', '2100', '1500', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (21, 2, 'engine/init.php', 'replace', 'if (\$config[\'allow_calendar\'] OR \$config[\'allow_archives\']) include_once (DLEPlugins::Check(ENGINE_DIR . \'/modules/calendar.php\'));', 'if (isset( \$_COOKIE[\'selected_language\'] )) {			\\n	if (\$_COOKIE[\'selected_language\'] == \'Farsi\'){\\n      if (\$config[\'allow_calendar\'] OR \$config[\'allow_archives\']) include_once (DLEPlugins::Check(ENGINE_DIR . \'/modules/calendar_fa.php\'));\\n	}else{\\n      if (\$config[\'allow_calendar\'] OR \$config[\'allow_archives\']) include_once (DLEPlugins::Check(ENGINE_DIR . \'/modules/calendar.php\'));\\n	}			\\n}else{			\\n	if (\$config[\'langs\'] == \'Farsi\'){\\n      if (\$config[\'allow_calendar\'] OR \$config[\'allow_archives\']) include_once (DLEPlugins::Check(ENGINE_DIR . \'/modules/calendar_fa.php\'));\\n	}else{\\n      if (\$config[\'allow_calendar\'] OR \$config[\'allow_archives\']) include_once (DLEPlugins::Check(ENGINE_DIR . \'/modules/calendar.php\'));\\n	}			\\n}', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (22, 2, 'engine/ajax/adminfunction.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (23, 2, 'engine/ajax/clean.php', 'replace', 'if ((@strtotime(\$_REQUEST[\'date\']) === -1) OR (@strtotime(\$_REQUEST[\'date\']) === false) OR (trim(\$_REQUEST[\'date\']) == \"\"))', 'if ((@jstrtotime(\$_REQUEST[\'date\']) === -1) OR (@jstrtotime(\$_REQUEST[\'date\']) === false) OR (trim(\$_REQUEST[\'date\']) == \"\"))', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (24, 2, 'engine/ajax/clean.php', 'replace', '\$_REQUEST[\'date\'] = \$db->safesql( \$_REQUEST[\'date\'] );', '\$_REQUEST[\'date\'] = date(\'Y-m-d\', jstrtotime(\$db->safesql( \$_REQUEST[\'date\'] )));', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (25, 2, 'engine/ajax/clean.php', 'replace', '<script>\\n	\$(\'[data-rel=calendardate]\').datetimepicker({\\n	  format:\'Y-m-d\',\\n	  closeOnDateSelect:true,\\n	  dayOfWeekStart: 1,\\n	  timepicker:false,\\n	  scrollMonth:false,\\n	  scrollInput:false,\\n	  i18n: cal_language\\n	});\\n</script>', '<script>\\n\$(\'[data-rel=calendardate]\').persianDatepicker({\\n	initialValueType: \'persian\',\\n	initialValue: false,\\n	format: \'YYYY-MM-DD\',\\n	toolbox: {\\n		calendarSwitch: {enabled: false},\\n		submitButton: {enabled: true},\\n		todayButton: {enabled: true},\\n	},\\n	timePicker: {enabled: false},\\n});\\n</script>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (26, 2, 'engine/ajax/clean.php', 'replace', '<script>\\n	\$(\'[data-rel=calendardate]\').datetimepicker({\\n	  format:\'Y-m-d\',\\n	  closeOnDateSelect:true,\\n	  dayOfWeekStart: 1,\\n	  timepicker:false,\\n	  scrollMonth:false,\\n	  scrollInput:false,\\n	  i18n: cal_language\\n	});\\n	\\n	\$(\'.categoryselect\').chosen({no_results_text: \'{\$lang[\'addnews_cat_fault\']}\'});\\n	\\n</script>', '<script>\\n    \$(\'[data-rel=calendardate]\').persianDatepicker({\\n        initialValueType: \'persian\',\\n        initialValue: false,\\n        format: \'YYYY-MM-DD\',\\n        toolbox: {\\n            calendarSwitch: {enabled: false},\\n            submitButton: {enabled: true},\\n            todayButton: {enabled: true},\\n        },\\n        timePicker: {enabled: false},\\n    });\\n	\$(\'.categoryselect\').chosen({no_results_text: \'{\$lang[\'addnews_cat_fault\']}\'});\\n</script>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (27, 2, 'engine/ajax/comments.php', 'replace', '\$config[\'http_home_url\'] . date( \'Y/m/d/\', \$row[\'date\'] )', '\$config[\'http_home_url\'] . jdate( \'Y/m/d/\', \$row[\'date\'] )', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (28, 2, 'engine/ajax/editcomments.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (29, 2, 'engine/ajax/editnews.php', 'replace', '\$newstime = strtotime( \$row[\'date\'] );', '\$newstime = jstrtotime( \$row[\'date\'] );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (30, 2, 'engine/ajax/find_relates.php', 'replace', '\$news_date = date( \'d-m-Y\', \$related[\'date\'] );', '\$news_date = jdate( \'Y-m-d\', \$related[\'date\'] );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (31, 2, 'engine/ajax/find_relates.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', \$related[\'date\'] ) . \$related[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', \$related[\'date\'] ) . \$related[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (32, 2, 'engine/ajax/search.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (33, 2, 'engine/ajax/upload.php', 'replace', '\$css_path = \$config[\'http_home_url\'].\"engine/skins/stylesheets/frame.css\";', '		if (isset( \$_COOKIE[\'selected_language\'] )) {\\n			\\n			if (\$_COOKIE[\'selected_language\'] == \'Farsi\'){\\n				\$css_path = \$config[\'http_home_url\'].\"engine/skins/stylesheets/frame_fa.css\";\\n			}else{	\\n				\$css_path = \$config[\'http_home_url\'].\"engine/skins/stylesheets/frame.css\";\\n			}\\n			\\n			\\n		}else{\\n			\\n			if (\$config[\'langs\'] == \'Farsi\'){\\n				\$css_path = \$config[\'http_home_url\'].\"engine/skins/stylesheets/frame_fa.css\";\\n			}else{	\\n				\$css_path = \$config[\'http_home_url\'].\"engine/skins/stylesheets/frame.css\";\\n			}\\n			\\n		}', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (34, 2, 'engine/ajax/profile.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (35, 2, 'engine/ajax/antivirus.php', 'replace', '\$file_date = date(\"d.m.Y H:i:s\",', '\$file_date = jdate(\"d.m.Y H:i:s\",', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (36, 2, 'engine/classes/antivirus.class.php', 'replace', '\$file_date = date(\"d.m.Y H:i:s\", filectime(\$dir . \$this->dir_split . \$file));', '\$file_date = jdate(\"Y/m/d H:i:s\", filectime(\$dir . \$this->dir_split . \$file));', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (37, 2, 'engine/classes/antivirus.class.php', 'after', 'var \$good_files       = array(', '\"./engine/classes/jdate.class.php\",\\n\"./engine/ajax/calendar_fa.php\",\\n\"./engine/ajax/updates_fa.php\",\\n\"./engine/modules/calendar_fa.php\",', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (38, 2, 'engine/classes/comments.class.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', strtotime (\$row[\'newsdate\']) ) . \$row[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', strtotime (\$row[\'newsdate\']) ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (39, 2, 'engine/classes/comments.class.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (40, 2, 'engine/classes/google.class.php', 'replace', '\$loc = \$this->home . date( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', '\$loc = \$this->home . jdate( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (41, 2, 'engine/inc/include/functions.inc.php', 'before', 'if ( \$config[\'auth_domain\'] ) {', 'require_once (DLEPlugins::Check(ROOT_DIR . \'/engine/classes/jdate.class.php\'));', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (42, 2, 'engine/inc/include/functions.inc.php', 'replace', '	if (!in_array(\$localzone, \$timezones)) \$localzone = \'Europe/Moscow\';\\n\\n	\$local->setTimeZone(new DateTimeZone(\$localzone));\\n\\n	return strtr( \$local->format(\$format), \$langdate );', '	if (!in_array(\$localzone, \$timezones)) \$localzone = \'Asia/Tehran\';\\n\\n	\$local->setTimeZone(new DateTimeZone(\$localzone));\\n\\n	return strtr( @jdate( \$format, \$stamp ), \$langdate );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (43, 2, 'engine/inc/include/functions.inc.php', 'replace', '\$js_array[] = \"<script src=\\\\\"engine/classes/min/index.php?charset={\$config[\'charset\']}&amp;g=admin&amp;v=25\\\\\"></script>\";', '		if (isset( \$_COOKIE[\'selected_language\'] )) {\\n			\\n			if (\$_COOKIE[\'selected_language\'] == \'Farsi\'){\\n				\$js_array[] = \"<script src=\\\\\"engine/classes/min/index.php?charset={\$config[\'charset\']}&amp;g=dlefa&amp;v=25\\\\\"></script>\";\\n			}else{	\\n				\$js_array[] = \"<script src=\\\\\"engine/classes/min/index.php?charset={\$config[\'charset\']}&amp;g=admin&amp;v=25\\\\\"></script>\";\\n			}\\n			\\n			\\n		}else{\\n			\\n			if (\$config[\'langs\'] == \'Farsi\'){\\n				\$js_array[] = \"<script src=\\\\\"engine/classes/min/index.php?charset={\$config[\'charset\']}&amp;g=dlefa&amp;v=25\\\\\"></script>\";\\n			}else{	\\n				\$js_array[] = \"<script src=\\\\\"engine/classes/min/index.php?charset={\$config[\'charset\']}&amp;g=admin&amp;v=25\\\\\"></script>\";\\n			}\\n			\\n		}', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (44, 2, 'engine/inc/addnews.php', 'replace', 'if(!\$alt_name) \$alt_name = totranslit( stripslashes( \$title ), true, false );\\nelse \$alt_name = totranslit( stripslashes( \$alt_name ), true, false );', 'if(!\$alt_name) \$alt_name = fatotranslit( stripslashes( preg_replace(\"/[^\\\x{0600}-\\\x{06FF}a-zA-Z0-9_.;»«-]/u\", \"-\", \$title)), true, false);\\nelse \$alt_name = fatotranslit( preg_replace(\"/[^\\\x{0600}-\\\x{06FF}a-zA-Z0-9_.;»«-]/u\", \"-\", \$alt_name), true, false );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (45, 2, 'engine/inc/addnews.php', 'replace', 'strtotime', 'jstrtotime', 1, 2)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (46, 2, 'engine/inc/addnews.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', strtotime( \$row[\'date\'] ) ) . \$row[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', strtotime( \$row[\'date\'] ) ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (47, 2, 'engine/inc/addnews.php', 'after', '\$title = \$parse->process(  trim( strip_tags (\$_POST[\'title\']) ) );', '\$title = ArabicToPersian( \$title );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (48, 2, 'engine/inc/addnews.php', 'replace', 'if( trim(\$value) ) \$tags_array[] = trim( \$value );', 'if( trim(\$value) ) \$tags_array[] = ArabicToPersian( trim( \$value ) );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (49, 2, 'engine/inc/banners.php', 'replace', '@strtotime', '@jstrtotime', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (50, 2, 'engine/inc/banners.php', 'replace', 'd.m.Y H:i', 'Y/m/d H:i', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (51, 2, 'engine/inc/banners.php', 'replace', '.date( \$langformatdatefull,', '.jdate( \$langformatdatefull,', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (52, 2, 'engine/inc/banners.php', 'replace', 'pull-right', 'pull-left', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (53, 2, 'engine/inc/banners.php', 'replace', 'class=\"form-control width-350 position-left\" maxlength=\"40\" type=\"text\" name=\"banner_tag\"', 'class=\"form-control width-350 position-left ltr\" maxlength=\"40\" type=\"text\" name=\"banner_tag\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (54, 2, 'engine/inc/banners.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (55, 2, 'engine/inc/blockip.php', 'replace', 'strtotime', 'jstrtotime', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (56, 2, 'engine/inc/blockip.php', 'replace', '\$editendban = date( \"Y-m-d H:i:s\", \$row[\'date\'] );', '\$editendban = jdate( \"Y-m-d H:i:s\", \$row[\'date\'] );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (57, 2, 'engine/inc/categories.php', 'replace', '<b>ID:{\$cat_info[\$id][\'id\']}</b>', '<b>شناسه:{\$cat_info[\$id][\'id\']}</b>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (58, 2, 'engine/inc/categories.php', 'replace', 'data-placement=\"right\"', 'data-placement=\"left\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (59, 2, 'engine/inc/categories.php', 'replace', 'style=\"max-width:300px;\"', 'style=\"max-width:390px;\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (60, 2, 'engine/inc/categories.php', 'replace', '\$alt_cat_name = totranslit', '\$alt_cat_name = fatotranslit', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (61, 2, 'engine/inc/categories.php', 'replace', 'pull-right', 'pull-left', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (62, 2, 'engine/inc/categories.php', 'replace', 'name=\"alt_cat_name\" type=\"text\" class=\"form-control\"', 'name=\"alt_cat_name\" type=\"text\" class=\"form-control ltr\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (63, 2, 'engine/inc/categories.php', 'replace', 'name=\"cat_icon\" type=\"text\" class=\"form-control\"', 'name=\"cat_icon\" type=\"text\" class=\"form-control ltr\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (64, 2, 'engine/inc/cmoderation.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\',', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\',', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (65, 2, 'engine/inc/cmoderation.php', 'replace', '\$date = date( \$langformatdatefull, \$row[\'date\'] );', '\$date = jdate( \$langformatdatefull, \$row[\'date\'] );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (66, 2, 'engine/inc/comments.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', \$row[\'newsdate\'] ) . \$row[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', \$row[\'newsdate\'] ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (67, 2, 'engine/inc/comments.php', 'replace', '		if( !\$langformatdatefull ) \$langformatdatefull = \"d.m.Y H:i:s\";\\n		\$date = date( \$langformatdatefull, \$row[\'date\'] );', '		if( !\$langformatdatefull ) \$langformatdatefull = \"d M Y ساعت H:i\";\\n		\$date = jdate( \$langformatdatefull, \$row[\'date\'] );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (68, 2, 'engine/inc/complaint.php', 'replace', 'if ( \$row[\'date\'] ) \$date = date( \$langformatdatefull, \$row[\'date\'] ).\"<br /><br />\"; else \$date = \"\";', 'if ( \$row[\'date\'] ) \$date = jdate( \$langformatdatefull, \$row[\'date\'] ).\"<br /><br />\"; else \$date = \"\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (69, 2, 'engine/inc/complaint.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', strtotime (\$row[\'newsdate\']) ) . \$row[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', strtotime (\$row[\'newsdate\']) ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (70, 2, 'engine/inc/dumper.php', 'replace', ' xml:lang=\"ru\" lang=\"ru\">', ' xml:lang=\"fa\" lang=\"fa\">', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (71, 2, 'engine/inc/dumper.php', 'replace', '		  \$name = \$db . \'_\' . date(\"Y-m-d_H-i\"). \'_\' . substr( md5(date(\"Y-m-d_H-i\").DBHOST . DBNAME), 0, 5);\\n\\n		} else {\\n\\n		   \$name = date(\"Y-m-d_H-i\") . \'_\' . \$db . \'_\' . md5(\$rand);', '		  \$name = \$db . \'_\' . jdate(\"Y-m-d_H-i\"). \'_\' . substr( md5(date(\"Y-m-d_H-i\").DBHOST . DBNAME), 0, 5);\\n\\n		} else {\\n\\n		   \$name = jdate(\"Y-m-d_H-i\") . \'_\' . \$db . \'_\' . md5(\$rand);', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (72, 2, 'engine/inc/dumper.php', 'replace', 'body{\\n	overflow: auto;\\n}', 'body{\\n	overflow: auto;\\n    direction:rtl\\n}', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (73, 2, 'engine/inc/dumper.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (74, 2, 'engine/inc/editnews.php', 'replace', '	if( \$fromnewsdate ) {\\n\\n		\$where[] = \"date >= \'\$fromnewsdate\'\";\\n\\n	}\\n\\n	if( \$tonewsdate ) {\\n\\n		\$where[] = \"date <= \'\$tonewsdate\'\";\\n\\n	}', '	if( \$fromnewsdate != \"\" ) {\\n\\n		\$fromnewsdate = jstrtotime(\$fromnewsdate);\\n		\$fromnewsdate = date(\"Y-m-d H:m:s\", \$fromnewsdate);\\n		\$where[] = \"date >= \'\$fromnewsdate\'\";\\n\\n	}\\n\\n	if( \$tonewsdate != \"\" ) {\\n\\n		\$tonewsdate = jstrtotime(\$tonewsdate);\\n		\$tonewsdate = date(\"Y-m-d H:m:s\", \$tonewsdate);\\n		\$where[] = \"date <= \'\$tonewsdate\'\";\\n\\n	}', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (75, 2, 'engine/inc/editnews.php', 'replace', '			\$itemdate = date( \$langformatdate, strtotime( \$row[\'date\'] ) );\\n		} else {\\n			\$itemdate = date( \"d.m.Y\", strtotime( \$row[\'date\'] ) );', '			\$itemdate = jdate( \$langformatdate, strtotime( \$row[\'date\'] ) );\\n		} else {\\n			\$itemdate = jdate( \"Y/m/d\", strtotime( \$row[\'date\'] ) );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (76, 2, 'engine/inc/editnews.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', strtotime( \$row[\'date\'] ) ) . \$row[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', strtotime( \$row[\'date\'] ) ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (77, 2, 'engine/inc/editnews.php', 'replace', '\$newstime = strtotime( \$row[\'date\'] );', '\$newstime = jstrtotime( \$row[\'date\'] );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (78, 2, 'engine/inc/editnews.php', 'replace', 'if ( \$expires[\'expires\'] ) \$expires[\'expires\'] = date(\"Y-m-d\", \$expires[\'expires\']);', 'if ( \$expires[\'expires\'] ) \$expires[\'expires\'] = jdate(\"Y-m-d\", \$expires[\'expires\']);', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (79, 2, 'engine/inc/editnews.php', 'replace', 'ID=<b>{\$row[\'id\']}</b>', 'شماره:<b>{\$row[\'id\']}</b>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (80, 2, 'engine/inc/editnews.php', 'replace', 'if(!\$alt_name) \$alt_name = totranslit( stripslashes( \$title ), true, false );\\nelse \$alt_name = totranslit( stripslashes( \$alt_name ), true, false );', 'if(!\$alt_name) \$alt_name = fatotranslit( stripslashes( preg_replace(\"/[^\\\x{0600}-\\\x{06FF}a-zA-Z0-9_.;»«-]/u\", \"-\", \$title)), true, false);\\nelse \$alt_name = fatotranslit( preg_replace(\"/[^\\\x{0600}-\\\x{06FF}a-zA-Z0-9_.;»«-]/u\", \"-\", \$alt_name), true, false );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (81, 2, 'engine/inc/editnews.php', 'replace', 'if( ((\$expires = strtotime( \$_POST[\'expires\'] )) === - 1) OR !\$expires) {', 'if( ((\$expires = jstrtotime( \$_POST[\'expires\'] )) === - 1) OR !\$expires) {', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (82, 2, 'engine/inc/editnews.php', 'replace', '\$item_db[7] = strtotime( \$row[\'date\'] );', '\$item_db[7] = jstrtotime( \$row[\'date\'] );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (83, 2, 'engine/inc/editnews.php', 'replace', '} elseif( ((\$newsdate = strtotime( \$newdate )) === - 1) OR !\$newsdate ) {', '} elseif( ((\$newsdate = jstrtotime( \$newdate )) === - 1) OR !\$newsdate ) {', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (84, 2, 'engine/inc/editnews.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (85, 2, 'engine/inc/editnews.php', 'replace', '			\$row[\'editdate\'] = date( \$langformatdatefull, \$row[\'editdate\'] );\\n		} else {\\n			\$row[\'editdate\'] = date( \"d.m.Y H:i:s\", \$row[\'editdate\'] );\\n		}\\n		\\n		\$lang[\'news_edit_date\'] = \$lang[\'news_edit_date\'] . \" \" . \$row[\'editor\'] . \" - \" . \$row[\'editdate\'];', '			\$row[\'editdate\'] = jdate( \$langformatdatefull, \$row[\'editdate\'] );\\n		} else {\\n			\$row[\'editdate\'] = jdate( \"d M Y ساعت H:i:s\", \$row[\'editdate\'] );\\n		}\\n		\\n		\$lang[\'news_edit_date\'] = \$lang[\'news_edit_date\'] . \" \" . \$row[\'editor\'] . \" در \" . \$row[\'editdate\'];', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (86, 2, 'engine/inc/editnews.php', 'after', 'if (\$row[\'autor\'] != \$member_id[\'name\'] AND \$user_group[\$member_id[\'user_group\']][\'allow_all_edit\'] AND !\$row[\'approve\']) \$spam_btn = \"<button  onclick=\\\\\"MarkSpam(\'{\$id}\', \'{\$dle_login_hash}\'); return false;\\\\\" class=\\\\\"btn bg-brown-600 btn-sm btn-raised position-left\\\\\"><i class=\\\\\"fa fa-minus-square-o position-left\\\\\"></i> {\$lang[\'btn_spam\']}</button>\"; else \$spam_btn = \"\";', '\$news_date = jdate( \"Y-m-d H:i:s\", strtotime( \$row[\'date\'] ) );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (87, 2, 'engine/inc/editnews.php', 'replace', '<input type=\"text\" name=\"newdate\" data-rel=\"calendar\" class=\"form-control position-left\" style=\"width:190px;\" value=\"{\$row[\'date\']}\" autocomplete=\"off\"><label class=\"checkbox-inline\"><input class=\"icheck\" type=\"checkbox\" name=\"allow_now\" id=\"allow_now\" value=\"yes\">{\$lang[\'edit_jdate\']}</label>', '<input type=\"text\" name=\"newdate\" data-rel=\"calendar\" class=\"form-control position-left\" style=\"width:190px;\" value=\"{\$news_date}\" autocomplete=\"off\"><label class=\"checkbox-inline\"><input class=\"icheck\" type=\"checkbox\" name=\"allow_now\" id=\"allow_now\" value=\"yes\">{\$lang[\'edit_jdate\']}</label>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (88, 2, 'engine/inc/editnews.php', 'after', '\$title = \$parse->process( trim( strip_tags (\$_POST[\'title\']) ) );', '\$title = ArabicToPersian( \$title );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (89, 2, 'engine/inc/editnews.php', 'replace', 'if( trim(\$value) ) \$tags_array[] = trim( \$value );', 'if( trim(\$value) ) \$tags_array[] = ArabicToPersian( trim( \$value ) );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (90, 2, 'engine/inc/editusers.php', 'replace', '	if( ! empty( \$fromregdate ) ) {\\n		\$where[] = \"reg_date>=\'\" . strtotime( \$fromregdate ) . \"\'\";\\n	}\\n	if( ! empty( \$toregdate ) ) {\\n		\$where[] = \"reg_date<=\'\" . strtotime( \$toregdate ) . \"\'\";\\n	}\\n	if( ! empty( \$fromentdate ) ) {\\n		\$where[] = \"lastdate>=\'\" . strtotime( \$fromentdate ) . \"\'\";\\n	}\\n	if( ! empty( \$toentdate ) ) {\\n		\$where[] = \"lastdate<=\'\" . strtotime( \$toentdate ) . \"\'\";\\n	}', '	if( ! empty( \$fromregdate ) ) {\\n		\$where[] = \"reg_date>=\'\" . jstrtotime( \$fromregdate ) . \"\'\";\\n	}\\n	if( ! empty( \$toregdate ) ) {\\n		\$where[] = \"reg_date<=\'\" . jstrtotime( \$toregdate ) . \"\'\";\\n	}\\n	if( ! empty( \$fromentdate ) ) {\\n		\$where[] = \"lastdate>=\'\" . jstrtotime( \$fromentdate ) . \"\'\";\\n	}\\n	if( ! empty( \$toentdate ) ) {\\n		\$where[] = \"lastdate<=\'\" . jstrtotime( \$toentdate ) . \"\'\";\\n	}', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (91, 2, 'engine/inc/editusers.php', 'replace', 'if( \$row[\'time_limit\'] != \"\" ) \$row[\'time_limit\'] = date( \$langformatdatefull, \$row[\'time_limit\'] );', 'if( \$row[\'time_limit\'] != \"\" ) \$row[\'time_limit\'] = jdate( \$langformatdatefull, \$row[\'time_limit\'] );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (92, 2, 'engine/inc/editusers.php', 'replace', '<link rel=\"stylesheet\" type=\"text/css\" media=\"all\" href=\"engine/classes/calendar/calendar.css\" />\\n<script src=\"engine/classes/js/jquery.js\"></script>\\n<script src=\"engine/classes/calendar/calendar.js\"></script>', '<script src=\"engine/classes/js/jquery.js\"></script>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (93, 2, 'engine/inc/editusers.php', 'replace', '\$time_limit = trim( \$_POST[\'time_limit\'] ) ? strtotime( \$_POST[\'time_limit\'] ) : \"\";', '\$time_limit = trim( \$_POST[\'time_limit\'] ) ? jstrtotime( \$_POST[\'time_limit\'] ) : \"\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (94, 2, 'engine/inc/editusers.php', 'replace', 'class=\"form-control\" type=\"text\" name=\"search_mail\" id=\"search_mail\"', 'class=\"form-control ltr\" type=\"text\" name=\"search_mail\" id=\"search_mail\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (95, 2, 'engine/inc/editusers.php', 'replace', 'name=\"regemail\" type=\"text\" class=\"form-control\"', 'name=\"regemail\" type=\"text\" class=\"form-control ltr\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (96, 2, 'engine/inc/editusers.php', 'replace', 'class=\"form-control width-200 position-left\" maxlength=\"50\" type=\"text\" name=\"editmail\"', 'class=\"form-control width-200 position-left ltr\" maxlength=\"50\" type=\"text\" name=\"editmail\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (97, 2, 'engine/inc/editusers.php', 'replace', 'class=\"form-control width-300\" maxlength=\"50\" type=\"text\" name=\"gravatar\"', 'class=\"form-control width-300 ltr\" maxlength=\"50\" type=\"text\" name=\"gravatar\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (98, 2, 'engine/inc/editusers.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (99, 2, 'engine/inc/editvote.php', 'replace', '@strtotime', '@jstrtotime', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (100, 2, 'engine/inc/editvote.php', 'replace', 'date( \$langformatdate', 'jdate( \$langformatdate', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (101, 2, 'engine/inc/googlemap.php', 'replace', '\$file_date = date(\$langformatdatefull, filectime(ROOT_DIR. \"/uploads/sitemap.xml\") );', '\$file_date = jdate(\$langformatdatefull, filectime(ROOT_DIR. \"/uploads/sitemap.xml\") );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (102, 2, 'engine/inc/logs.php', 'replace', '\$row[\'date\'] = date( \$langformatdatefull, \$row[\'date\'] );', '\$row[\'date\'] = jdate( \$langformatdatefull, \$row[\'date\'] );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (103, 2, 'engine/inc/newsletter.php', 'replace', 'strtotime', 'jstrtotime', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (104, 2, 'engine/inc/upgrade.php', 'replace', '	if( strlen(trim((string)\$_REQUEST[\'dle_key\'])) != 29 ){\\n		echo \"{\\\\\"error\\\\\": \\\\\"{\$lang[\'upgr_f_error_5\']}\\\\\"}\";\\n		die();\\n	}\\n	\\n	\$params = array(\\n		\'action\' => \'info\',\\n		\'domain\' => \$_SERVER[\'HTTP_HOST\'],\\n		\'key\' => (string)\$_REQUEST[\'dle_key\'],\\n		\'site_key\' => get_domen_hash()\\n	);\\n\\n	\$data = http_get_contents(\"http://dle-news.ru/extras/upgrade/index.php?\".http_build_query(\$params, \'\', \'&\') );\\n', '	\$currect_version = VERSIONID;\\n	\$currect_build = BUILDID;\\n	\\n	if( \$_REQUEST[\'dle_key\'] != \$config[\'http_home_url\'] ){\\n		echo \"{\\\\\"error\\\\\": \\\\\"نام دامنه وارد شده در فرم با آدرس سایت شما همخوانی ندارد. لطفا پس از تصحیح دوباره تست نمایید.\\\\\"}\";\\n		die();\\n	}\\n\\n	\$data = @file_get_contents(\'https://dlefa.ir/upgrade/update.json?version_id=\'.\$currect_version.\'&build=\'.\$currect_build.\'&site=\'.\$_REQUEST[\'dle_key\']);', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (105, 2, 'engine/inc/upgrade.php', 'replace', '			if( \$data[\'error\']) {\\n				\\n				if( \$data[\'error\'] == \"-3\" ) \$data[\'error\'] = \$lang[\'upgr_f_error_2\'];\\n				if( \$data[\'error\'] == \"-2\" ) \$data[\'error\'] = \$lang[\'upgr_f_error_3\'];\\n				if( \$data[\'error\'] == \"-1\" ) \$data[\'error\'] = \$lang[\'upgr_f_error_4\'];\\n				\\n				echo \"{\\\\\"error\\\\\": \\\\\"{\$data[\'error\']}\\\\\"}\";\\n				die();\\n			}\\n			\\n			if( \$data[\'distr\'][\'version\'] ) {\\n				if( version_compare(VERSIONID, \$data[\'distr\'][\'version\'], \'>=\') AND version_compare(BUILDID, \$data[\'distr\'][\'build\'], \'>=\') AND !defined(\'DEMOVERSION\') ) {\\n					echo \"{\\\\\"error\\\\\": \\\\\"{\$lang[\'upgr_f_error_6\']}\\\\\"}\";\\n					die();\\n				} else {\\n					\$_SESSION[\'distr\'] = \$data[\'distr\'];\\n					echo \"{\\\\\"status\\\\\": \\\\\"ok\\\\\"}\";\\n					die();	\\n				}\\n			}', '			if( \$data[\'error\']) {\\n	\\n				echo \"{\\\\\"error\\\\\": \\\\\"{\$data[\'error\']}\\\\\"}\";\\n				die();\\n			}\\n			\\n			if( \$data[\'messages\'] ) {\\n				foreach( \$data[\'messages\'] as \$data[\'distr\'] ){\\n\\n					if( version_compare(VERSIONID, \$data[\'distr\'][\'version\'], \'>=\') AND version_compare(BUILDID, \$data[\'distr\'][\'build\'], \'>=\') AND !defined(\'DEMOVERSION\') ) {\\n						echo \"{\\\\\"error\\\\\": \\\\\"{\$lang[\'upgr_f_error_6\']}\\\\\"}\";\\n						die();\\n					} else {\\n						\$_SESSION[\'distr\'] = \$data[\'distr\'];\\n						echo \"{\\\\\"status\\\\\": \\\\\"ok\\\\\"}\";\\n						die();	\\n					}\\n				}\\n			}', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (106, 2, 'engine/inc/upgrade.php', 'replace', '{\$lang[\'upgr_act_info\']}<br /><br /><input type=\"text\" name=\"sitekey\" id=\"sitekey\" placeholder=\"{\$lang[\'trial_key\']}\" class=\"classic width-400 mr-10\"><button onclick=\"dle_activation( \'key\' ); return false;\" class=\"btn bg-teal btn-raised btn-sm\">{\$lang[\'upgr_next\']}</button><br /><br /><div id=\"result_info\">{\$lang[\'key_format\']} <b>XXXXX-XXXXX-XXXXX-XXXXX-XXXXX</b></div>', '{\$lang[\'upgr_act_info\']}<br /><br /><input type=\"text\" name=\"sitekey\" id=\"sitekey\" placeholder=\"{\$lang[\'trial_key\']}\" value=\"{\$config[\'http_home_url\']}\" class=\"classic width-400 ml-10 ltr\"><button onclick=\"dle_activation( \'key\' ); return false;\" class=\"btn bg-teal btn-raised btn-sm\">{\$lang[\'upgr_next\']}</button><br /><br /><div id=\"result_info\"></div>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (107, 2, 'engine/inc/upgrade.php', 'replace', 'document.getElementById( \'result_info\' ).innerHTML = \'{\$lang[\'key_format\']} <b>XXXXX-XXXXX-XXXXX-XXXXX-XXXXX</b>\';', 'document.getElementById( \'result_info\' ).innerHTML = \'\';', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (108, 2, 'engine/inc/rss.php', 'replace', 'totranslit', 'fatotranslit', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (109, 2, 'engine/inc/rss.php', 'replace', 'strtotime', 'jstrtotime', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (110, 2, 'engine/inc/static.php', 'replace', 'strtotime', 'jstrtotime', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (111, 2, 'engine/inc/static.php', 'replace', '@date', '@jdate', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (112, 2, 'engine/inc/static.php', 'replace', 'd.m.Y', 'd M Y', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (113, 2, 'engine/inc/static.php', 'replace', '\$row[\'views\'] = number_format( \$row[\'views\'], 0, \',\', \' \');', '\$row[\'views\'] = number_format( \$row[\'views\'], 0, \'\', \'\');', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (114, 2, 'engine/inc/static.php', 'replace', '\$name = trim( totranslit( \$_POST[\'name\'], true, false ) );', '\$name = trim( fatotranslit( \$_POST[\'name\'], true, false ) );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (115, 2, 'engine/inc/static.php', 'replace', 'name=\"name\" class=\"form-control width-550\" maxlength=\"100\">', 'name=\"name\" class=\"form-control width-550 ltr\" maxlength=\"100\">', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (116, 2, 'engine/inc/static.php', 'replace', '<input type=\"text\" name=\"static_tpl\" class=\"form-control position-left\" style=\"width:220px;\">.tpl', 'tpl.<input type=\"text\" name=\"static_tpl\" class=\"form-control position-left\" style=\"width:220px;\">', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (117, 2, 'engine/inc/templates.php', 'replace', '	  <div class=\"col-md-2\">\\n		<div id=\"filetree\" class=\"filetree\"></div>\\n	  </div>\\n	  \\n	  <div class=\"col-md-10\">\\n			<div id=\"fileedit\" style=\"border: solid 1px #BBB;min-height: 565px; padding:5px;\"></div>\\n	  </div>', '	  <div class=\"col-md-10\">\\n			<div id=\"fileedit\" style=\"border: solid 1px #BBB;min-height: 565px; padding:5px;\"></div>\\n	  </div>\\n\\n      <div class=\"col-md-2\">\\n		<div id=\"filetree\" class=\"filetree\"></div>\\n	  </div>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (118, 2, 'engine/inc/templates.php', 'replace', '<div class=\"col-md-12 mb-10\">{\$lang[\'templates_help\']} <a class=\"main\" href=\"http://dle-news.ru/extras/online/all2.html\" target=\"_blank\">http://dle-news.ru/extras/online/all2.html</a></div>', '<div class=\"col-md-12 mb-10\">{\$lang[\'templates_help\']} <a class=\"main\" href=\"https://learn.dlefa.ir/\" target=\"_blank\">آموزش تگ های سیستم</a></div>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (119, 2, 'engine/inc/main.php', 'replace', '\$.get(\"engine/ajax/controller.php?mod=updates&versionid={\$currect_version}&user_hash={\$dle_login_hash}&build={\$currect_build}\", function( data ){', '\$.get(\"engine/ajax/controller.php?mod=updates_fa&versionid={\$currect_version}&user_hash={\$dle_login_hash}&build={\$currect_build}\", function( data ){', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (120, 2, 'engine/inc/main.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (121, 2, 'engine/inc/xfields.php', 'replace', 'float:right', 'float:left', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (122, 2, 'engine/inc/options.php', 'replace', 'class=\\\\\"form-control\\\\\" name=\\\\\"save_con[http_home_url]\\\\\"', 'class=\\\\\"form-control ltr\\\\\" name=\\\\\"save_con[http_home_url]\\\\\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (123, 2, 'engine/inc/options.php', 'replace', 'class=\\\\\"form-control\\\\\" name=\\\\\"save_con[recaptcha_public_key]\\\\\"', 'class=\\\\\"form-control ltr\\\\\" name=\\\\\"save_con[recaptcha_public_key]\\\\\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (124, 2, 'engine/inc/options.php', 'replace', '.date', '.jdate', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (125, 2, 'engine/inc/lostpassword.php', 'replace', '<div class=\"text-muted text-size-small text-center\">DataLife Engine&reg;  Copyright 2004-{\$year}<br>&copy; <a href=\"https://dle-news.ru/\" target=\"_blank\">SoftNews Media Group</a> All rights reserved.</div>', '<div class=\"text-muted text-size-small text-center ltr\">DataLife Engine&reg;  Copyright {\$year}<br>&copy; <a href=\"https://dlefa.ir/\" target=\"_blank\">dlefa</a> All rights reserved.</div>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (126, 2, 'engine/inc/twofactor.php', 'replace', '<div class=\"text-muted text-size-small text-center\">DataLife Engine&reg;  Copyright 2004-{\$year}<br>&copy; <a href=\"https://dle-news.ru/\" target=\"_blank\">SoftNews Media Group</a> All rights reserved.</div>', '<div class=\"text-muted text-size-small text-center ltr\">DataLife Engine&reg;  Copyright {\$year}<br>&copy; <a href=\"https://dlefa.ir/\" target=\"_blank\">dlefa</a> All rights reserved.</div>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (127, 2, 'engine/inc/tagscloud.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (128, 2, 'engine/inc/usergroup.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (129, 2, 'engine/inc/plugins.php', 'replace', 'form-control width-500 position-right', 'form-control width-500 position-right ltr', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (130, 2, 'engine/inc/plugins.php', 'replace', 'pull-right', 'pull-left', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (131, 2, 'engine/inc/plugins.php', 'replace', 'data-placement=\"right\"', 'data-placement=\"left\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (132, 2, 'engine/modules/addcomments.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (133, 2, 'engine/modules/addnews.php', 'replace', 'if( \$alt_name == \"\" OR !\$alt_name ) \$alt_name = totranslit( stripslashes( \$title ), true, false );\\nelse \$alt_name = totranslit( \$alt_name, true, false );', 'if( \$alt_name == \"\" OR !\$alt_name ) \$alt_name = fatotranslit( stripslashes( preg_replace(\"/[^\\\x{0600}-\\\x{06FF}a-zA-Z0-9_.;»«-]/u\", \"-\", \$title)), true, false);\\nelse \$alt_name = fatotranslit( preg_replace(\"/[^\\\x{0600}-\\\x{06FF}a-zA-Z0-9_.;»«-]/u\", \"-\", \$alt_name), true, false );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (134, 2, 'engine/modules/functions.php', 'before', 'if ( \$config[\'auth_domain\'] ) {', 'require_once (DLEPlugins::Check(ROOT_DIR . \'/engine/classes/jdate.class.php\'));', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (135, 2, 'engine/modules/functions.php', 'replace', '	if (!in_array(\$localzone, \$timezones)) \$localzone = \'Europe/Moscow\';\\n\\n	\$local->setTimeZone(new DateTimeZone(\$localzone));\\n\\n	return strtr( \$local->format(\$format), \$locallangdate );', '	if (!in_array(\$localzone, \$timezones)) \$localzone = \'Asia/Tehran\';\\n\\n	\$local->setTimeZone(new DateTimeZone(\$localzone));\\n\\n	return strtr( @jdate( \$format, \$stamp ), \$langdate );', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (136, 2, 'engine/modules/functions.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (137, 2, 'engine/modules/pm.php', 'replace', 'j.m.Y', 'j F Y', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (138, 2, 'engine/modules/pm.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (139, 2, 'engine/modules/show.custom.php', 'replace', '\$config[\'http_home_url\'] . date( \'Y/m/d/\',', '\$config[\'http_home_url\'] . jdate( \'Y/m/d/\',', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (140, 2, 'engine/modules/show.custom.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (141, 2, 'engine/modules/show.full.php', 'replace', '\$config[\'http_home_url\'] . date( \'Y/m/d/\',', '\$config[\'http_home_url\'] . jdate( \'Y/m/d/\',', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (142, 2, 'engine/modules/show.full.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (143, 2, 'engine/modules/show.short.php', 'replace', '\$config[\'http_home_url\'] . date( \'Y/m/d/\',', '\$config[\'http_home_url\'] . jdate( \'Y/m/d/\',', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (144, 2, 'engine/modules/show.short.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (145, 2, 'engine/modules/main.php', 'replace', 'echo \"\\\\n<!-- DataLife Engine Copyright SoftNews Media Group (http://dle-news.ru) -->\\\\r\\\\n\";', 'echo \"\\\\n<!-- DataLife Engine Copyright (https://dlefa.ir) -->\\\\r\\\\n\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (146, 2, 'engine/modules/topnews.php', 'replace', '\$full_link = \$config[\'http_home_url\'] . date( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', '\$full_link = \$config[\'http_home_url\'] . jdate( \'Y/m/d/\', \$row[\'date\'] ) . \$row[\'alt_name\'] . \".html\";', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (147, 2, 'engine/modules/profile.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (148, 2, 'engine/modules/static.php', 'replace', '0, \',\', \' \'', '0, \'\', \'\'', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (149, 2, 'engine/skins/default.skin.php', 'replace', 'pull-right', 'pull-left', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (150, 2, 'engine/skins/default.skin.php', 'replace', '<div class=\"navbar-right\">', '<div class=\"navbar-left\">', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (151, 2, 'engine/skins/default.skin.php', 'replace', '<div class=\"dropdown-menu dropdown-content\"', '<div class=\"dropdown-menu dropdown-menu-pm dropdown-content\"', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (152, 2, 'engine/skins/default.skin.php', 'replace', '<a class=\"navbar-brand\" href=\"?mod=main\">DataLife Engine</a>', '<a class=\"navbar-brand\" href=\"?mod=main\">همیار دیتالایف انجین</a>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (153, 2, 'engine/skins/default.skin.php', 'replace', '					<div class=\"footer text-muted text-size-small\">\\n						DataLife Engine&reg;  Copyright 2004-{\$year} &copy; <a href=\"https://dle-news.ru/\" target=\"_blank\">SoftNews Media Group</a> All rights reserved.\\n					</div>', '					<div class=\"footer text-muted text-size-small ltr\">\\n						DataLife Engine&reg;  Copyright {\$year} &copy; <a href=\"https://dlefa.ir/\" target=\"_blank\">dlefa</a> All rights reserved.\\n					</div>', 1, 0)";
$tableSchema[] = "INSERT INTO " . PREFIX . "_plugins_files (id, plugin_id, file, action, searchcode, replacecode, active, searchcount) VALUES (154, 2, 'engine/skins/default.skin.php', 'replace', '<div class=\"text-muted text-size-small text-center\">DataLife Engine&reg;  Copyright 2004-{\$year}<br>&copy; <a href=\"https://dle-news.ru/\" target=\"_blank\">SoftNews Media Group</a> All rights reserved.</div>', '<div class=\"text-muted text-size-small text-center ltr\">DataLife Engine&reg;  Copyright {\$year}<br>&copy; <a href=\"https://dlefa.ir/\" target=\"_blank\">dlefa</a> All rights reserved.</div>', 1, 0)";